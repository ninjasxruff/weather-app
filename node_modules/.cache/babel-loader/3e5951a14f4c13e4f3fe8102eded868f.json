{"ast":null,"code":"var _jsxFileName = \"/home/rrk/Web dev/weather-app/src/App.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport './tailwind.css';\nimport 'weather-icons/css/weather-icons.css';\nimport Navbar from './app_components/navbar';\nimport Weather from './app_components/weather.component';\nimport Dayte from './app_components/date';\nimport Loc from './app_components/location';\nimport Weathers from './app_components/weathers.component'; //https://api.openweathermap.org/data/2.5/weather?q=${city_name}&appid=${api_key} - 1 day\n//https://api.openweathermap.org/data/2.5/onecall?lat={lat}&lon={lon}&exclude={part}&appid={YOUR API KEY}- 7 days \n//geocoding: https://api.opencagedata.com/geocode/v1/json?q=PLACENAME&key=10b12ef9479a44939530577ae8e8bfa3\n\nconst geo_api = '10b12ef9479a44939530577ae8e8bfa3';\nconst api_key = 'aef5f0f7ef1f482eb40aeaa93c360e1e';\nconst lat = 51.5074;\nconst lon = 0.1278; //const cnt=7\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.tempcon = t => {\n      for (let i = 0; i < 7; i++) {\n        t[i] = Math.floor(t[i] - 273.15);\n      }\n\n      return t;\n    };\n\n    this.geoCode = async e => {\n      e.preventDefault();\n      const city_name = e.target.elements.city.value;\n      const geo_call = await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${city_name}&key=10b12ef9479a44939530577ae8e8bfa3`);\n      const geo_response = await geo_call.json();\n      console.log(geo_response);\n      this.setState({\n        long: geo_response\n      });\n    };\n\n    this.getWeather = async () => {\n      //e.preventDefault()\n      //\n\n      /*if(city_name)\n      {*/\n      const api_call = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=${'hourly,current'}&appid=${api_key}`);\n      const response = await api_call.json();\n      console.log(response);\n      let temperatures = [];\n\n      for (let i = 0; i < 7; i++) {\n        temperatures.push(response.daily[i].temp.day);\n      }\n\n      this.setState({\n        city: response.daily.timezone,\n        tempc: this.tempcon(temperatures),\n        valid: 1\n      });\n\n      for (let i = 0; i < 7; i++) {\n        console.log(i);\n        this.getWeatherIcon(this.weatherIcon, response.daily[i].weather[0].id, i);\n      } //}\n\n      /* else\n       {\n         this.setState({error: true})\n       }\n       */\n\n    };\n\n    this.state = {\n      long: undefined,\n      lat: undefined,\n      tempc: [undefined, undefined, undefined, undefined, undefined, undefined, undefined],\n      icon: [undefined, undefined, undefined, undefined, undefined, undefined, undefined],\n      valid: 0,\n      error: false\n    };\n    this.getWeather();\n    this.geoCode(e);\n    this.weatherIcon = {\n      Thunderstorm: \"wi-thunderstorm\",\n      Drizzle: \"wi-sleet\",\n      Rain: \"wi-storm-showers\",\n      Snow: \"wi-snow\",\n      Atmosphere: \"wi-fog\",\n      Clear: \"wi-day-sunny\",\n      Clouds: \"wi-day-fog\"\n    };\n  }\n\n  getWeatherIcon(icons, rangeId, i) {\n    let ikon = [];\n\n    switch (true) {\n      case rangeId >= 200 && rangeId <= 232:\n        ikon[i] = this.weatherIcon.Thunderstorm;\n        break;\n\n      case rangeId >= 300 && rangeId <= 321:\n        ikon[i] = this.weatherIcon.Drizzle;\n        break;\n\n      case rangeId >= 400 && rangeId <= 531:\n        ikon[i] = this.weatherIcon.Rain;\n        break;\n\n      case rangeId >= 500 && rangeId <= 622:\n        ikon[i] = this.weatherIcon.Snow;\n        break;\n\n      case rangeId >= 600 && rangeId <= 781:\n        ikon[i] = this.weatherIcon.Atmosphere;\n        break;\n\n      case rangeId === 800:\n        ikon[i] = this.weatherIcon.Clear;\n        break;\n\n      case rangeId >= 800 && rangeId <= 804:\n        ikon[i] = this.weatherIcon.Clouds;\n        break;\n    }\n\n    console.log(ikon[i]);\n    console.log(this.state.icon[i]);\n    this.setState({\n      icon: ikon\n    });\n  }\n\n  // this.getWeatherIcon(this.getWeather,response.weather[0].id)\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      loadWeather: this.getWeather,\n      error: this.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-full h-screen flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-green-900 w-1/4 h-screen \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-col h-screen flex justify-center index-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Weathers, {\n      tempc: this.state.tempc[1],\n      weatherIcon: this.state.icon[1],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Weathers, {\n      tempc: this.state.tempc[2],\n      weatherIcon: this.state.icon[2],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Weathers, {\n      tempc: this.state.tempc[3],\n      weatherIcon: this.state.icon[3],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Weathers, {\n      tempc: this.state.tempc[4],\n      weatherIcon: this.state.icon[4],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Weathers, {\n      tempc: this.state.tempc[5],\n      weatherIcon: this.state.icon[5],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Weathers, {\n      tempc: this.state.tempc[6],\n      weatherIcon: this.state.icon[6],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex justify-center flex flex items-center bg-blue-900 w-2/4 h-screen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"justify-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Weather, {\n      tempc: this.state.tempc[0],\n      weatherIcon: this.state.icon[0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Dayte, {\n      validity: this.valid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Loc, {\n      city: this.state.city,\n      country: this.state.country,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex justify-center flex items-center bg-red-900 w-1/4 h-screen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }, \"Contextual icon\")));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/rrk/Web dev/weather-app/src/App.js"],"names":["React","axios","Navbar","Weather","Dayte","Loc","Weathers","geo_api","api_key","lat","lon","App","Component","constructor","tempcon","t","i","Math","floor","geoCode","e","preventDefault","city_name","target","elements","city","value","geo_call","fetch","geo_response","json","console","log","setState","long","getWeather","api_call","response","temperatures","push","daily","temp","day","timezone","tempc","valid","getWeatherIcon","weatherIcon","weather","id","state","undefined","icon","error","Thunderstorm","Drizzle","Rain","Snow","Atmosphere","Clear","Clouds","icons","rangeId","ikon","render","country"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,gBAAP;AACA,OAAO,qCAAP;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,oCAApB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,GAAP,MAAgB,2BAAhB;AACA,OAAOC,QAAP,MAAqB,qCAArB,C,CACA;AACA;AACA;;AACA,MAAMC,OAAO,GAAC,kCAAd;AACA,MAAMC,OAAO,GAAC,kCAAd;AACA,MAAMC,GAAG,GAAC,OAAV;AACA,MAAMC,GAAG,GAAC,MAAV,C,CACA;;AACA,MAAMC,GAAN,SAAkBX,KAAK,CAACY,SAAxB,CACA;AACEC,EAAAA,WAAW,GACX;AACE;;AADF,SA4DFC,OA5DE,GA4DSC,CAAD,IACV;AACE,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EACA;AACED,QAAAA,CAAC,CAACC,CAAD,CAAD,GAAMC,IAAI,CAACC,KAAL,CAAWH,CAAC,CAACC,CAAD,CAAD,GAAK,MAAhB,CAAN;AACD;;AACD,aAAOD,CAAP;AAED,KApEC;;AAAA,SAsEFI,OAtEE,GAsEQ,MAAMC,CAAN,IACV;AACEA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,SAAS,GAAEF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBC,IAAlB,CAAuBC,KAAxC;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,kDAAiDN,SAAU,uCAA7D,CAA5B;AACA,YAAMO,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA3B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AACA,WAAKI,QAAL,CACE;AACEC,QAAAA,IAAI,EAAEL;AADR,OADF;AAKD,KAlFC;;AAAA,SAoFFM,UApFE,GAoFW,YACb;AACE;AACA;;AACA;;AAEE,YAAMC,QAAQ,GAAG,MAAMR,KAAK,CAAE,uDAAsDnB,GAAI,QAAOC,GAAI,YAAW,gBAAiB,UAASF,OAAQ,EAApH,CAA5B;AAEF,YAAM6B,QAAQ,GAAG,MAAMD,QAAQ,CAACN,IAAT,EAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;AACA,UAAIC,YAAY,GAAG,EAAnB;;AACA,WAAI,IAAItB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EACA;AACEsB,QAAAA,YAAY,CAACC,IAAb,CAAkBF,QAAQ,CAACG,KAAT,CAAexB,CAAf,EAAkByB,IAAlB,CAAuBC,GAAzC;AAED;;AACD,WAAKT,QAAL,CACE;AACER,QAAAA,IAAI,EAAEY,QAAQ,CAACG,KAAT,CAAeG,QADvB;AAEEC,QAAAA,KAAK,EAAE,KAAK9B,OAAL,CAAawB,YAAb,CAFT;AAGEO,QAAAA,KAAK,EAAC;AAHR,OADF;;AAOE,WAAI,IAAI7B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EACA;AAAGe,QAAAA,OAAO,CAACC,GAAR,CAAYhB,CAAZ;AACD,aAAK8B,cAAL,CAAoB,KAAKC,WAAzB,EAAqCV,QAAQ,CAACG,KAAT,CAAexB,CAAf,EAAkBgC,OAAlB,CAA0B,CAA1B,EAA6BC,EAAlE,EAAqEjC,CAArE;AACD,OAzBL,CA2BE;;AACD;;;;;;AAKA,KAtHC;;AAEE,SAAKkC,KAAL,GACA;AACEhB,MAAAA,IAAI,EAAEiB,SADR;AAEE1C,MAAAA,GAAG,EAAE0C,SAFP;AAGEP,MAAAA,KAAK,EAAE,CAACO,SAAD,EAAYA,SAAZ,EAAuBA,SAAvB,EAAkCA,SAAlC,EAA6CA,SAA7C,EAAwDA,SAAxD,EAAmEA,SAAnE,CAHT;AAIEC,MAAAA,IAAI,EAAE,CAACD,SAAD,EAAYA,SAAZ,EAAuBA,SAAvB,EAAkCA,SAAlC,EAA6CA,SAA7C,EAAwDA,SAAxD,EAAmEA,SAAnE,CAJR;AAKEN,MAAAA,KAAK,EAAC,CALR;AAMEQ,MAAAA,KAAK,EAAE;AANT,KADA;AASA,SAAKlB,UAAL;AACA,SAAKhB,OAAL,CAAaC,CAAb;AACA,SAAK2B,WAAL,GACA;AACEO,MAAAA,YAAY,EAAE,iBADhB;AAEEC,MAAAA,OAAO,EAAE,UAFX;AAGEC,MAAAA,IAAI,EAAE,kBAHR;AAIEC,MAAAA,IAAI,EAAE,SAJR;AAKEC,MAAAA,UAAU,EAAE,QALd;AAMEC,MAAAA,KAAK,EAAC,cANR;AAOEC,MAAAA,MAAM,EAAC;AAPT,KADA;AAUD;;AAGHd,EAAAA,cAAc,CAACe,KAAD,EAAOC,OAAP,EAAe9C,CAAf,EACZ;AACE,QAAI+C,IAAI,GAAG,EAAX;;AAEE,YAAO,IAAP;AAEE,WAAMD,OAAO,IAAE,GAAT,IAAgBA,OAAO,IAAE,GAA/B;AACEC,QAAAA,IAAI,CAAC/C,CAAD,CAAJ,GAAQ,KAAK+B,WAAL,CAAiBO,YAAzB;AACA;;AACF,WAAMQ,OAAO,IAAE,GAAT,IAAgBA,OAAO,IAAE,GAA/B;AACEC,QAAAA,IAAI,CAAC/C,CAAD,CAAJ,GAAQ,KAAK+B,WAAL,CAAiBQ,OAAzB;AACA;;AACF,WAAMO,OAAO,IAAE,GAAT,IAAgBA,OAAO,IAAE,GAA/B;AACEC,QAAAA,IAAI,CAAC/C,CAAD,CAAJ,GAAQ,KAAK+B,WAAL,CAAiBS,IAAzB;AACA;;AACF,WAAMM,OAAO,IAAE,GAAT,IAAgBA,OAAO,IAAE,GAA/B;AACEC,QAAAA,IAAI,CAAC/C,CAAD,CAAJ,GAAQ,KAAK+B,WAAL,CAAiBU,IAAzB;AACA;;AACF,WAAMK,OAAO,IAAE,GAAT,IAAgBA,OAAO,IAAE,GAA/B;AACEC,QAAAA,IAAI,CAAC/C,CAAD,CAAJ,GAAQ,KAAK+B,WAAL,CAAiBW,UAAzB;AACA;;AACF,WAAMI,OAAO,KAAG,GAAhB;AACEC,QAAAA,IAAI,CAAC/C,CAAD,CAAJ,GAAQ,KAAK+B,WAAL,CAAiBY,KAAzB;AACA;;AACF,WAAMG,OAAO,IAAE,GAAT,IAAgBA,OAAO,IAAE,GAA/B;AACEC,QAAAA,IAAI,CAAC/C,CAAD,CAAJ,GAAQ,KAAK+B,WAAL,CAAiBa,MAAzB;AACF;AAtBF;;AAyBA7B,IAAAA,OAAO,CAACC,GAAR,CAAY+B,IAAI,CAAC/C,CAAD,CAAhB;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKkB,KAAL,CAAWE,IAAX,CAAgBpC,CAAhB,CAAZ;AACA,SAAKiB,QAAL,CAAc;AAACmB,MAAAA,IAAI,EAAEW;AAAP,KAAd;AACD;;AAiEJ;AAECC,EAAAA,MAAM,GACN;AACE,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,WAAW,EAAE,KAAK7B,UAA1B;AAAsC,MAAA,KAAK,EAAE,KAAKkB,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,oDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWN,KAAX,CAAiB,CAAjB,CAAjB;AAAsC,MAAA,WAAW,EAAE,KAAKM,KAAL,CAAWE,IAAX,CAAgB,CAAhB,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWN,KAAX,CAAiB,CAAjB,CAAjB;AAAsC,MAAA,WAAW,EAAE,KAAKM,KAAL,CAAWE,IAAX,CAAgB,CAAhB,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWN,KAAX,CAAiB,CAAjB,CAAjB;AAAsC,MAAA,WAAW,EAAE,KAAKM,KAAL,CAAWE,IAAX,CAAgB,CAAhB,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,eAIE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWN,KAAX,CAAiB,CAAjB,CAAjB;AAAsC,MAAA,WAAW,EAAE,KAAKM,KAAL,CAAWE,IAAX,CAAgB,CAAhB,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,eAKE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWN,KAAX,CAAiB,CAAjB,CAAjB;AAAsC,MAAA,WAAW,EAAE,KAAKM,KAAL,CAAWE,IAAX,CAAgB,CAAhB,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAME,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWN,KAAX,CAAiB,CAAjB,CAAjB;AAAsC,MAAA,WAAW,EAAE,KAAKM,KAAL,CAAWE,IAAX,CAAgB,CAAhB,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF,CADF,eAWE;AAAK,MAAA,SAAS,EAAC,uEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWN,KAAX,CAAiB,CAAjB,CAAhB;AAAqC,MAAA,WAAW,EAAE,KAAKM,KAAL,CAAWE,IAAX,CAAgB,CAAhB,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEA,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAE,KAAKP,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eAGA,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,KAAKK,KAAL,CAAWzB,IAAtB;AAA4B,MAAA,OAAO,EAAE,KAAKyB,KAAL,CAAWe,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHA,CADF,CAXF,eAkBE;AAAK,MAAA,SAAS,EAAC,iEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAlBF,CAFF,CADF;AA0BD;;AA3JH;;AA8JA,eAAetD,GAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './tailwind.css';\nimport 'weather-icons/css/weather-icons.css';\nimport Navbar from './app_components/navbar';\nimport Weather from './app_components/weather.component';\nimport Dayte from './app_components/date';\nimport Loc from './app_components/location';\nimport Weathers from './app_components/weathers.component';\n//https://api.openweathermap.org/data/2.5/weather?q=${city_name}&appid=${api_key} - 1 day\n//https://api.openweathermap.org/data/2.5/onecall?lat={lat}&lon={lon}&exclude={part}&appid={YOUR API KEY}- 7 days \n//geocoding: https://api.opencagedata.com/geocode/v1/json?q=PLACENAME&key=10b12ef9479a44939530577ae8e8bfa3\nconst geo_api='10b12ef9479a44939530577ae8e8bfa3'\nconst api_key='aef5f0f7ef1f482eb40aeaa93c360e1e'\nconst lat=51.5074\nconst lon=0.1278\n//const cnt=7\nclass App extends React.Component \n{\n  constructor()\n  {\n    super();\n    this.state = \n    {\n      long: undefined,\n      lat: undefined,\n      tempc: [undefined, undefined, undefined, undefined, undefined, undefined, undefined],\n      icon: [undefined, undefined, undefined, undefined, undefined, undefined, undefined],\n      valid:0,\n      error: false\n    };\n    this.getWeather()\n    this.geoCode(e)\n    this.weatherIcon = \n    {\n      Thunderstorm: \"wi-thunderstorm\",\n      Drizzle: \"wi-sleet\",\n      Rain: \"wi-storm-showers\",\n      Snow: \"wi-snow\",\n      Atmosphere: \"wi-fog\",\n      Clear:\"wi-day-sunny\",\n      Clouds:\"wi-day-fog\"\n    }     \n  }\n\n\ngetWeatherIcon(icons,rangeId,i)\n  { \n    let ikon = []\n    \n      switch(true)\n      {\n        case (rangeId>=200 && rangeId<=232):\n          ikon[i]=this.weatherIcon.Thunderstorm\n          break\n        case (rangeId>=300 && rangeId<=321):\n          ikon[i]=this.weatherIcon.Drizzle\n          break\n        case (rangeId>=400 && rangeId<=531):\n          ikon[i]=this.weatherIcon.Rain\n          break\n        case (rangeId>=500 && rangeId<=622):\n          ikon[i]=this.weatherIcon.Snow\n          break\n        case (rangeId>=600 && rangeId<=781):\n          ikon[i]=this.weatherIcon.Atmosphere\n          break\n        case (rangeId===800):\n          ikon[i]=this.weatherIcon.Clear\n          break  \n        case (rangeId>=800 && rangeId<=804):\n          ikon[i]=this.weatherIcon.Clouds\n        break\n\n      }\n      console.log(ikon[i])\n      console.log(this.state.icon[i])\n      this.setState({icon: ikon})\n    }\n\ntempcon = (t) =>\n{ \n  for(let i=0;i<7;i++)\n  {\n    t[i]=(Math.floor(t[i]-273.15))\n  }\n  return t;\n  \n}\n\ngeoCode = async(e) =>\n{\n  e.preventDefault();\n  const city_name= e.target.elements.city.value;\n  const geo_call = await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${city_name}&key=10b12ef9479a44939530577ae8e8bfa3`)\n  const geo_response = await geo_call.json();\n  console.log(geo_response)\n  this.setState(\n    {\n      long: geo_response\n    }\n  )\n}\n\ngetWeather = async (/*e*/) =>\n{\n  //e.preventDefault()\n  //\n  /*if(city_name)\n  {*/\n    const api_call = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=${'hourly,current'}&appid=${api_key}`)\n    \n  const response = await api_call.json();\n  console.log(response)\n  let temperatures = []\n  for(let i=0;i<7;i++)\n  {\n    temperatures.push(response.daily[i].temp.day)\n\n  }\n  this.setState(\n    {\n      city: response.daily.timezone,  \n      tempc: this.tempcon(temperatures),\n      valid:1 \n    })\n    \n    for(let i=0;i<7;i++)\n    {  console.log(i)\n      this.getWeatherIcon(this.weatherIcon,response.daily[i].weather[0].id,i) \n    }\n    \n  //}\n /* else\n  {\n    this.setState({error: true})\n  }\n  */\n}\n\n  \n  \n\n // this.getWeatherIcon(this.getWeather,response.weather[0].id)\n  \n  render()\n  {\n    return (\n      <div className=\"App\">\n        <Navbar loadWeather={this.getWeather} error={this.error} />\n        <div className='w-full h-screen flex'>\n          <div className='bg-green-900 w-1/4 h-screen '>\n            <div className='flex-col h-screen flex justify-center index-center'>\n              <Weathers tempc={this.state.tempc[1]} weatherIcon={this.state.icon[1]}/>\n              <Weathers tempc={this.state.tempc[2]} weatherIcon={this.state.icon[2]}/>\n              <Weathers tempc={this.state.tempc[3]} weatherIcon={this.state.icon[3]}/>\n              <Weathers tempc={this.state.tempc[4]} weatherIcon={this.state.icon[4]}/>\n              <Weathers tempc={this.state.tempc[5]} weatherIcon={this.state.icon[5]}/>\n              <Weathers tempc={this.state.tempc[6]} weatherIcon={this.state.icon[6]}/>\n             </div>\n          </div>\n          <div className='flex justify-center flex flex items-center bg-blue-900 w-2/4 h-screen'>\n            <div className='justify-end' >\n            <Weather tempc={this.state.tempc[0]} weatherIcon={this.state.icon[0]}/>\n            <Dayte validity={this.valid}/>\n            <Loc city={this.state.city} country={this.state.country}/>\n            </div>\n          </div>  \n          <div className='flex justify-center flex items-center bg-red-900 w-1/4 h-screen'>Contextual icon</div>\n          \n        </div>\n      </div>\n      );\n  }\n\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}